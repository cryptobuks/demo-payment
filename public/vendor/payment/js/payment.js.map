{
  "version": 3,
  "file": "payment.js",
  "sources": [
    "plugins/payment/resources/assets/js/payment.js"
  ],
  "sourcesContent": [
    "var BPayment = BPayment || {};\n\nBPayment.init = function () {\n    if ($('.card-wrapper').length > 0) {\n        var card = new Card({ form: '.payment-checkout-form', container: '.card-wrapper' });\n    }\n    $(document).on('change', '.js_payment_method', function() {\n        $('.payment_collapse_wrap').removeClass('collapse').removeClass('in').removeClass('active');\n    });\n\n    $(document).on('click', '.payment-checkout-btn', function() {\n        var _self = $(this);\n        var form = _self.closest('form');\n        _self.attr('disabled', 'disabled');\n        var submitInitialText = _self.html();\n        _self.html('<i class=\"fa fa-gear fa-spin\"></i> Processing. Please wait...');\n        if ($('input[name=payment_method]:checked').val() === 'stripe'){\n            Stripe.setPublishableKey($('#payment-stripe-key').data('value'));\n            Stripe.card.createToken(form, function(status, response) {\n                if (response.error) {\n                    alert(response.error.message);\n                    _self.removeAttr('disabled');\n                    _self.html(submitInitialText);\n                } else {\n                    form.append($('<input type=\"hidden\" name=\"stripeToken\">').val(response.id));\n                    form.submit();\n                }\n            });\n        } else {\n            form.submit();\n        }\n    });\n};\n\n$(document).ready(function () {\n    BPayment.init();\n});"
  ],
  "names": [],
  "mappings": ";;;AAAA,IAAI,QAAQ,GAAG,QAAQ,IAAI,EAAE,CAAC;;AAE9B,QAAQ,CAAC,IAAI,GAAG,YAAY;IACxB,IAAI,CAAC,CAAC,eAAe,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QAC/B,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,EAAE,IAAI,EAAE,wBAAwB,EAAE,SAAS,EAAE,eAAe,EAAE,CAAC,CAAC;KACvF;IACD,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,QAAQ,EAAE,oBAAoB,EAAE,WAAW;QACtD,CAAC,CAAC,wBAAwB,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;KAC/F,CAAC,CAAC;;IAEH,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,OAAO,EAAE,uBAAuB,EAAE,WAAW;QACxD,IAAI,KAAK,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACpB,IAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;QACjC,KAAK,CAAC,IAAI,CAAC,UAAU,EAAE,UAAU,CAAC,CAAC;QACnC,IAAI,iBAAiB,GAAG,KAAK,CAAC,IAAI,EAAE,CAAC;QACrC,KAAK,CAAC,IAAI,CAAC,+DAA+D,CAAC,CAAC;QAC5E,IAAI,CAAC,CAAC,oCAAoC,CAAC,CAAC,GAAG,EAAE,KAAK,QAAQ,CAAC;YAC3D,MAAM,CAAC,iBAAiB,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjE,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,SAAS,MAAM,EAAE,QAAQ,EAAE;gBACrD,IAAI,QAAQ,CAAC,KAAK,EAAE;oBAChB,KAAK,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;oBAC9B,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;oBAC7B,KAAK,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;iBACjC,MAAM;oBACH,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,0CAA0C,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;oBAC5E,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB;aACJ,CAAC,CAAC;SACN,MAAM;YACH,IAAI,CAAC,MAAM,EAAE,CAAC;SACjB;KACJ,CAAC,CAAC;CACN,CAAC;;AAEF,CAAC,CAAC,QAAQ,CAAC,CAAC,KAAK,CAAC,YAAY;IAC1B,QAAQ,CAAC,IAAI,EAAE,CAAC;CACnB,CAAC;;",
  "preExistingComment": "//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9ob21lL3Nhbmcvd29ya3NwYWNlL2Ntcy9wbHVnaW5zL3BheW1lbnQvcmVzb3VyY2VzL2Fzc2V0cy9qcy9wYXltZW50LmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBCUGF5bWVudCA9IEJQYXltZW50IHx8IHt9O1xuXG5CUGF5bWVudC5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKCcuY2FyZC13cmFwcGVyJykubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgY2FyZCA9IG5ldyBDYXJkKHsgZm9ybTogJy5wYXltZW50LWNoZWNrb3V0LWZvcm0nLCBjb250YWluZXI6ICcuY2FyZC13cmFwcGVyJyB9KTtcbiAgICB9XG4gICAgJChkb2N1bWVudCkub24oJ2NoYW5nZScsICcuanNfcGF5bWVudF9tZXRob2QnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLnBheW1lbnRfY29sbGFwc2Vfd3JhcCcpLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpLnJlbW92ZUNsYXNzKCdpbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICB9KTtcblxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcucGF5bWVudC1jaGVja291dC1idG4nLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIF9zZWxmID0gJCh0aGlzKTtcbiAgICAgICAgdmFyIGZvcm0gPSBfc2VsZi5jbG9zZXN0KCdmb3JtJyk7XG4gICAgICAgIF9zZWxmLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XG4gICAgICAgIHZhciBzdWJtaXRJbml0aWFsVGV4dCA9IF9zZWxmLmh0bWwoKTtcbiAgICAgICAgX3NlbGYuaHRtbCgnPGkgY2xhc3M9XCJmYSBmYS1nZWFyIGZhLXNwaW5cIj48L2k+IFByb2Nlc3NpbmcuIFBsZWFzZSB3YWl0Li4uJyk7XG4gICAgICAgIGlmICgkKCdpbnB1dFtuYW1lPXBheW1lbnRfbWV0aG9kXTpjaGVja2VkJykudmFsKCkgPT09ICdzdHJpcGUnKXtcbiAgICAgICAgICAgIFN0cmlwZS5zZXRQdWJsaXNoYWJsZUtleSgkKCcjcGF5bWVudC1zdHJpcGUta2V5JykuZGF0YSgndmFsdWUnKSk7XG4gICAgICAgICAgICBTdHJpcGUuY2FyZC5jcmVhdGVUb2tlbihmb3JtLCBmdW5jdGlvbihzdGF0dXMsIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICAgICBfc2VsZi5odG1sKHN1Ym1pdEluaXRpYWxUZXh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3JtLmFwcGVuZCgkKCc8aW5wdXQgdHlwZT1cImhpZGRlblwiIG5hbWU9XCJzdHJpcGVUb2tlblwiPicpLnZhbChyZXNwb25zZS5pZCkpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9ybS5zdWJtaXQoKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuICAgIEJQYXltZW50LmluaXQoKTtcbn0pOyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSxJQUFJLFFBQVEsR0FBRyxRQUFRLElBQUksRUFBRSxDQUFDOztBQUU5QixRQUFRLENBQUMsSUFBSSxHQUFHLFlBQVk7SUFDeEIsSUFBSSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtRQUMvQixJQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxFQUFFLElBQUksRUFBRSx3QkFBd0IsRUFBRSxTQUFTLEVBQUUsZUFBZSxFQUFFLENBQUMsQ0FBQztLQUN2RjtJQUNELENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLG9CQUFvQixFQUFFLFdBQVc7UUFDdEQsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7S0FDL0YsQ0FBQyxDQUFDOztJQUVILENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFdBQVc7UUFDeEQsSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQ3BCLElBQUksSUFBSSxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDakMsS0FBSyxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDbkMsSUFBSSxpQkFBaUIsR0FBRyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDckMsS0FBSyxDQUFDLElBQUksQ0FBQywrREFBK0QsQ0FBQyxDQUFDO1FBQzVFLElBQUksQ0FBQyxDQUFDLG9DQUFvQyxDQUFDLENBQUMsR0FBRyxFQUFFLEtBQUssUUFBUSxDQUFDO1lBQzNELE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLENBQUMscUJBQXFCLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNqRSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsU0FBUyxNQUFNLEVBQUUsUUFBUSxFQUFFO2dCQUNyRCxJQUFJLFFBQVEsQ0FBQyxLQUFLLEVBQUU7b0JBQ2hCLEtBQUssQ0FBQyxRQUFRLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO29CQUM5QixLQUFLLENBQUMsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDO29CQUM3QixLQUFLLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUM7aUJBQ2pDLE1BQU07b0JBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsMENBQTBDLENBQUMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQzVFLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztpQkFDakI7YUFDSixDQUFDLENBQUM7U0FDTixNQUFNO1lBQ0gsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO1NBQ2pCO0tBQ0osQ0FBQyxDQUFDO0NBQ04sQ0FBQzs7QUFFRixDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLFlBQVk7SUFDMUIsUUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO0NBQ25CLENBQUM7OyJ9"
}